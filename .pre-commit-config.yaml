ci:
  skip: [pyright]
  autoupdate_schedule: quarterly
# See https://pre-commit.com for more information
# See https://pre-commit.com/hooks.html for more hooks
repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v5.0.0
    hooks:
      # File names
      - id: check-case-conflict
      # File formats
      - id: pretty-format-json
      - id: check-json
      - id: check-toml
      - id: check-yaml
      # Executables
      - id: check-executables-have-shebangs
        exclude: dev-env
      - id: check-shebang-scripts-are-executable
      # Git shenanigans
      - id: check-merge-conflict
      - id: check-added-large-files
      # Python issues
      - id: check-ast
      - id: debug-statements
      # Whitespace
      - id: end-of-file-fixer
      - id: trailing-whitespace
      - id: mixed-line-ending
  - repo: https://github.com/RobertCraigie/pyright-python
    rev: v1.1.400
    hooks:
      - id: pyright
        additional_dependencies:
          - alabaster==0.7.13 ; python_full_version < '3.9'
          - alabaster==0.7.16 ; python_full_version == '3.9.*'
          - alabaster==1.0.0 ; python_full_version >= '3.10'
          - babel==2.17.0
          - certifi==2025.4.26
          - charset-normalizer==3.4.2
          - colorama==0.4.6 ; sys_platform == 'win32'
          - coverage==7.6.1 ; python_full_version < '3.9'
          - coverage==7.8.0 ; python_full_version >= '3.9'
          - doc8==1.1.2
          - docutils==0.20.1 ; python_full_version < '3.9'
          - docutils==0.21.2 ; python_full_version >= '3.9'
          - exceptiongroup==1.2.2 ; python_full_version < '3.11'
          - idna==3.10
          - imagesize==1.4.1
          - importlib-metadata==8.5.0 ; python_full_version < '3.9'
          - importlib-metadata==8.7.0 ; python_full_version == '3.9.*'
          - iniconfig==2.1.0
          - jinja2==3.1.6
          - markupsafe==2.1.5 ; python_full_version < '3.9'
          - markupsafe==3.0.2 ; python_full_version >= '3.9'
          - nodeenv==1.9.1
          - packaging==25.0
          - pbr==6.1.1
          - pluggy==1.5.0
          - pygments==2.19.1
          - pyright==1.1.400
          - pytest==8.3.5
          - pytest-cov==5.0.0 ; python_full_version < '3.9'
          - pytest-cov==6.1.1 ; python_full_version >= '3.9'
          - pytest-mock==3.14.0
          - pytz==2025.2 ; python_full_version < '3.9'
          - requests==2.32.3
          - requests-mock==1.12.1
          - restructuredtext-lint==1.4.0
          - roman-numerals-py==3.1.0 ; python_full_version >= '3.11'
          - setuptools==75.3.2 ; python_full_version < '3.9'
          - setuptools==80.3.1 ; python_full_version >= '3.9'
          - snowballstemmer==3.0.0.1
          - sphinx==7.1.2 ; python_full_version < '3.9'
          - sphinx==7.4.7 ; python_full_version == '3.9.*'
          - sphinx==8.1.3 ; python_full_version == '3.10.*'
          - sphinx==8.2.3 ; python_full_version >= '3.11'
          - sphinx-rtd-theme==3.0.2
          - sphinxcontrib-applehelp==1.0.4 ; python_full_version < '3.9'
          - sphinxcontrib-applehelp==2.0.0 ; python_full_version >= '3.9'
          - sphinxcontrib-devhelp==1.0.2 ; python_full_version < '3.9'
          - sphinxcontrib-devhelp==2.0.0 ; python_full_version >= '3.9'
          - sphinxcontrib-htmlhelp==2.0.1 ; python_full_version < '3.9'
          - sphinxcontrib-htmlhelp==2.1.0 ; python_full_version >= '3.9'
          - sphinxcontrib-jquery==4.1
          - sphinxcontrib-jsmath==1.0.1
          - sphinxcontrib-qthelp==1.0.3 ; python_full_version < '3.9'
          - sphinxcontrib-qthelp==2.0.0 ; python_full_version >= '3.9'
          - sphinxcontrib-serializinghtml==1.1.5 ; python_full_version < '3.9'
          - sphinxcontrib-serializinghtml==2.0.0 ; python_full_version >= '3.9'
          - stevedore==5.3.0 ; python_full_version < '3.9'
          - stevedore==5.4.1 ; python_full_version >= '3.9'
          - tomli==2.2.1 ; python_full_version <= '3.11'
          - types-docutils==0.21.0.20241128
          - types-requests==2.32.0.20241016 ; python_full_version < '3.9'
          - types-requests==2.32.0.20250328 ; python_full_version >= '3.9'
          - typing-extensions==4.13.2
          - urllib3==2.2.3 ; python_full_version < '3.9'
          - urllib3==2.4.0 ; python_full_version >= '3.9'
          - zipp==3.20.2 ; python_full_version < '3.9'
          - zipp==3.21.0 ; python_full_version == '3.9.*'
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.11.0
    hooks:
      - id: ruff
        args: [--fix, --unsafe-fixes, --show-fixes]
      - id: ruff-format
  - repo: https://github.com/PyCQA/doc8
    rev: v1.1.2
    hooks:
      - id: doc8

  - repo: https://github.com/adamchainz/django-upgrade
    rev: 1.23.1
    hooks:
      - id: django-upgrade
        args: [--target-version, '4.2'] # Replace with Django version

  - repo: local
    hooks:
      - id: sync-pre-commit
        name: Sync pre-commit hooks
        language: python
        entry: .github/sync-pre-commit.py
        files: uv.lock|.pre-commit-config.yaml
        additional_dependencies:
          - uv
          - ruamel.yaml

  - repo: https://github.com/astral-sh/uv-pre-commit
    # uv version.
    rev: 0.6.9
    hooks:
      - id: uv-lock
